(this["webpackJsonphcl-test"]=this["webpackJsonphcl-test"]||[]).push([[0],{33:function(e,t,a){},40:function(e,t,a){e.exports=a(72)},45:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),l=a.n(s),c=(a(45),a(34)),o=a(7),u=a(4),i=a(3),m=a(14),d=a.n(m),E=function(e,t,a){return{type:"GET_ERRORS",payload:{msg:e,status:t,data:a}}},p="http://localhost:8080/api",g=function(){return function(e){e({type:"REMOVE_ITEM_FROM_REDUX"})}};var h={logOutUser:function(){return function(e){e({type:"USER_LOGED_OUT"})}}},f=Object(u.b)((function(e){return{isLoggedInUser:e.userAuth.data&&e.userAuth.data.accessToken}}),h)((function(e){return e.isLoggedInUser?r.a.createElement("div",{className:"header"},r.a.createElement("p",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("p",{onClick:function(){e.isLoggedInUser&&e.logOutUser()}},"Logout")):null}));a(33);var O=Object(u.b)((function(e){return{isLoggedInUser:e.userAuth.data&&e.userAuth.data.accessToken}}),{})((function(e){var t=Object(i.f)();return e.isLoggedInUser||(console.log(t.location.pathname),"/registration"===t.location.pathname?t.push("/registration/"):t.push("/login/")),r.a.createElement("div",{className:"mainLayout"},r.a.createElement("div",{className:"site-layout"},r.a.createElement(f,null),e.children))}));var b=Object(u.b)((function(e){return{}}),{})((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"topBar"},r.a.createElement("p",null,"Landing Page"))))})),S=a(17),v=a(39),y=function(e){var t=e.label,a=e.onClick,n=Object(v.a)(e,["label","onClick"]);return r.a.createElement("button",Object.assign({onClick:a},n),t)};var _={authLogin:function(e,t){return function(a,n){var r={username:e,password:t};a({type:"USER_LOGIN_START"}),d.a.post("".concat(p,"/auth/signin/"),JSON.stringify(r),{headers:{"Content-Type":"application/json"}}).then((function(e){a({type:"USER_LOGIN_SUCCESS",payload:e.data})})).catch((function(e){a(E(e.response.data,e.response.status)),a({type:"USER_LOGIN_FAIL"})}))}},removeItemOnLoad:g},I=Object(u.b)((function(e){return{isLoggedInUser:e.userAuth.data&&e.userAuth.data.accessToken,isErrorPresent:e.errors.msg&&e.errors.msg.message,isRegisteredUser:e.userAuth.status}}),_)((function(e){var t=r.a.useState(null),a=Object(S.a)(t,2),n=a[0],s=a[1];r.a.useEffect((function(){e.removeItemOnLoad()}),[]);var l=Object(i.f)();return e.isLoggedInUser&&l.push("/Dashboard/"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signUp"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=new FormData(t.target);""===a.get("username").trim()||""===a.get("password").trim()?s("Please fill the fields"):(s(null),e.authLogin(a.get("username"),a.get("password")))}},r.a.createElement("p",{className:"pageTitle"},"Login"),r.a.createElement("input",{type:"text",placeholder:"Enter Username",name:"username",autoComplete:"off"}),r.a.createElement("input",{type:"text",placeholder:"Enter Password",name:"password",autoComplete:"off"}),r.a.createElement(y,{label:"Submit"}),n?r.a.createElement("p",{className:"errorMsg"},n):null,e.isErrorPresent?r.a.createElement("p",{className:"errorMsg"},e.isErrorPresent):null,200===e.isRegisteredUser?r.a.createElement("p",{className:"successAccount"},"Account Created Succesfully, Please login now"):r.a.createElement(o.b,{to:"/registration/",className:"message"},"Don't have account? Create now!!!"),r.a.createElement("p",{className:"request"},"Please login or create new account to view page content"))))}));var j={authSignup:function(e,t,a){return function(n,r){var s={username:e,email:t,password:a};n({type:"USER_REGISTRATION_START"}),d.a.post("".concat(p,"/auth/signup/"),JSON.stringify(s),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("res",e.status),n({type:"USER_REGISTRATION_SUCCESS",payload:{data:e.data,status:e.status}})})).catch((function(e){n(E(e.response.data,e.response.status)),n({type:"USER_REGISTRATION_FAIL"})}))}},removeItemOnLoad:g},L=Object(u.b)((function(e){return{isRegisteredUser:e.userAuth.status,isErrorPresent:e.errors.msg&&e.errors.msg.message}}),j)((function(e){var t=Object(n.useState)(null),a=Object(S.a)(t,2),s=a[0],l=a[1],c=Object(i.f)();return r.a.useEffect((function(){e.removeItemOnLoad()}),[]),200===e.isRegisteredUser&&c.push("/login/"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signUp"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=new FormData(t.target);""===a.get("username").trim()||""===a.get("email").trim()||""===a.get("password").trim()?l("Please fill all the fields"):(l(null),e.authSignup(a.get("username"),a.get("email"),a.get("password")))}},r.a.createElement("p",{className:"pageTitle"},"SignUp"),r.a.createElement("input",{type:"text",placeholder:"Enter Username",name:"username",autoComplete:"off"}),r.a.createElement("input",{type:"text",placeholder:"Enter Email",name:"email",autoComplete:"off"}),r.a.createElement("input",{type:"text",placeholder:"Enter Password",name:"password",autoComplete:"off"}),r.a.createElement(y,{label:"Submit"}),s?r.a.createElement("p",{className:"errorMsg"},s):null,e.isErrorPresent?r.a.createElement("p",{className:"errorMsg"},e.isErrorPresent):null,r.a.createElement(o.b,{to:"/login/",className:"message"},"Already have account? Login here"))))})),R=[{title:"Product ID",key:1},{title:"Title",key:2},{title:"Image",key:3}];var T={loadItems:function(e){return function(e){e({type:"LOAD_ITEMS_START"}),d.a.get("".concat("http://jsonplaceholder.typicode.com/photos","?_start=",0,"&_limit=20")).then((function(t){e({type:"LOAD_ITEMS_SUCCESS",payload:t})})).catch((function(t){e({type:"LOAD_ITEMS_FAIL"})}))}}},A=Object(u.b)((function(e){return{userName:e.userAuth.data&&e.userAuth.data.username,isLoggedInUser:e.userAuth.data&&e.userAuth.data.accessToken,homeItems:e.LoadIInitialltems.data}}),T)((function(e){return r.a.useEffect((function(){e.loadItems()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"topBar"},r.a.createElement("p",{className:"pageTitle Dashboard"},"Dashboard"),r.a.createElement("p",{className:"guest"},"Welcome, ",e.userName&&e.userName),r.a.createElement("div",{justify:"center",className:"main_"},r.a.createElement("div",{className:"table_main"},r.a.createElement("table",{className:"table_inner"},r.a.createElement("thead",null,r.a.createElement("tr",null,R.map((function(e,t){return r.a.createElement("th",{key:t},e.title)})))),r.a.createElement("tbody",null,e.homeItems&&e.homeItems.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.title),r.a.createElement("td",null,r.a.createElement("img",{src:e.thumbnailUrl,alt:e.title,title:e.title,className:"table_data_image"})))})),")")))))))}));var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"No found"))};var N=Object(u.b)((function(e){return{}}),{})((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{exact:!0,path:"/login/",component:I}),r.a.createElement(i.a,{exact:!0,path:"/registration/",component:L}),r.a.createElement(i.a,{exact:!0,path:"/dashboard/",component:A}),r.a.createElement(i.a,{component:U})))})),w=a(10),C=a(22),D=a(36),M=a.n(D),k=a(37),G=a(38),F=a(1),P={isLoading:!1,data:null,status:null},x={},B={},J={msg:{},status:null},W=Object(w.combineReducers)({userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTRATION_START":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!0});case"USER_REGISTRATION_SUCCESS":return Object(F.a)(Object(F.a)({},e),{},{data:t.payload.data,status:t.payload.status,isLoading:!1});case"USER_REGISTRATION_FAIL":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!1});case"USER_LOGIN_START":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!0});case"USER_LOGIN_SUCCESS":return Object(F.a)(Object(F.a)({},e),{},{data:t.payload,isLoading:!1});case"USER_LOGIN_FAIL":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!1});case"USER_LOGED_OUT":return Object(F.a)(Object(F.a)({},e),{},{data:null,status:null,isLoading:!1});case"REMOVE_STATUS":return Object(F.a)(Object(F.a)({},e),{},{status:null,isLoading:!1});default:return e}},LoadIInitialltems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ITEMS_START":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!0});case"LOAD_ITEMS_SUCCESS":case"LOAD_ITEMS_FAIL":return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.payload),{},{isLoading:!1});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return t.payload;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return Object(F.a)(Object(F.a)({},e),{},{msg:t.payload.msg,status:t.payload.status});case"REMOVE_ITEM_FROM_REDUX":return Object(F.a)(Object(F.a)({},e),{},{msg:{},status:null});default:return e}}}),V={key:"root",storage:M.a,whitelist:["userAuth"]},X=Object(C.a)(V,W),q=Object(w.createStore)(X,Object(k.composeWithDevTools)(Object(w.applyMiddleware)(G.a))),H=Object(C.b)(q);a(71);var $=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{store:q},r.a.createElement(c.a,{loading:null,persistor:H},r.a.createElement(o.a,null,r.a.createElement(O,null,r.a.createElement(N,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.2a4267c5.chunk.js.map